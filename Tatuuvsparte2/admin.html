<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Administrador | Distribuidora Luna</title>

  <link rel="stylesheet" href="./assets/css/style.css">
</head>

<body>
  <header class="main-header">
    <div class="header-flex">
      <div class="logo">
        <a href="index.html"><img src="./img/logoL.jpeg" alt="Logo Distribuidora Luna"></a>
      </div>
      <nav class="navbar">
        <ul>
          <li><a href="index.html">Inicio</a></li>
          <li><a href="productos.html">Productos</a></li>
          <li><a href="admin.html" class="activo">Admin</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="catalogo">
    <h2>Panel Administrador</h2>
    <p>Carg√° productos y guardalos en localStorage üì¶</p>

    <form id="formProducto" style="max-width: 500px; margin: auto; display: flex; flex-direction: column; gap: 1rem;">
      <input type="text" id="titulo" placeholder="Nombre del producto" required>
      <input type="text" id="descripcion" placeholder="Descripci√≥n" required>
      <input type="number" id="precio" placeholder="Precio" required>
      <input type="text" id="imagen" placeholder="Ruta de imagen (ej: ./img/jugo.jpg)" required>
      <button type="submit" class="btn-primary">Agregar producto</button>
    </form>

    <div style="margin-top: 2rem;">
      <button onclick="mostrarProductos()" class="btn-outline">üßÉ Ver productos guardados</button>
      <button onclick="borrarTodo()" class="btn-2">üóëÔ∏è Borrar todos</button>
    </div>

    <div id="preview" style="margin-top: 2rem;"></div>
  </main>


  <script src="./assets/js/script.js"></script>

  <script>
    const form = document.getElementById('formProducto');
    let productos = JSON.parse(localStorage.getItem('productosLuna')) || [];

    form.addEventListener('submit', e => {
      e.preventDefault();
      const titulo = document.getElementById('titulo').value;
      const descripcion = document.getElementById('descripcion').value;
      const precio = parseFloat(document.getElementById('precio').value);
      const imagen = document.getElementById('imagen').value;

      productos.push({ titulo, descripcion, precio, imagen });
      localStorage.setItem('productosLuna', JSON.stringify(productos));
      form.reset();
      alert('‚úÖ Producto agregado');
    });

    function mostrarProductos() {
      const preview = document.getElementById('preview');
      preview.innerHTML = "<h3>Productos guardados:</h3><ul style='list-style: none; padding: 0;'>";

      productos = JSON.parse(localStorage.getItem('productosLuna')) || [];
      productos.forEach(p => {
        preview.innerHTML += `<li>üßÉ <strong>${p.titulo}</strong> - $${p.precio}</li>`;
      });

      preview.innerHTML += "</ul>";
    }

    function borrarTodo() {
      if (confirm('¬øSeguro que quer√©s borrar TODOS los productos?')) {
        localStorage.removeItem('productosLuna');
        productos = [];
        mostrarProductos();
      }
    }
  </script>
</body>
</html>
